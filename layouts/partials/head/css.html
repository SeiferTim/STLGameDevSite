{{/*
  Compile SCSS via Hugo Pipes (Dart Sass).
  Outputs fingerprinted CSS for cache busting.
*/}}
{{- /* NOTE: Using embedded (libsass) for now; this repo's Windows setup hit TOCSS-DART pipe errors. */ -}}
{{- $opts := dict "targetPath" "css/site.css" "transpiler" "libsass" "outputStyle" (cond hugo.IsProduction "compressed" "expanded") "enableSourceMap" (not hugo.IsProduction) -}}
{{- $scss := resources.Get "scss/site.scss" -}}
{{- $css := $scss | toCSS $opts | fingerprint -}}
<link rel="stylesheet" href="{{ $css.RelPermalink }}" integrity="{{ $css.Data.Integrity }}" crossorigin="anonymous" />
